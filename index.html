<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fish Tank</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        body {
            background: linear-gradient(to bottom, #1a4d6d 0%, #0a2342 100%);
            cursor: none;
        }
        canvas {
            display: block;
        }
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, rgba(255,255,100,0.8), transparent);
            border-radius: 50%;
            pointer-events: none;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <canvas id="tank"></canvas>
    <div class="cursor" id="cursor"></div>

    <script>
        const canvas = document.getElementById('tank');
        const ctx = canvas.getContext('2d');
        const cursor = document.getElementById('cursor');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let mouseX = canvas.width / 2;
        let mouseY = canvas.height / 2;

        // Fish class
        class Fish {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 15 + 10;
                this.speedX = 0;
                this.speedY = 0;
                this.hue = Math.random() * 60 + 180; // Blue-green spectrum
                this.angle = 0;
                this.tailAngle = 0;
                this.tailSpeed = Math.random() * 0.2 + 0.1;
            }

            update() {
                // Calculate direction to mouse
                const dx = mouseX - this.x;
                const dy = mouseY - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                // Follow mouse with easing
                const attraction = 0.0008;
                this.speedX += dx * attraction;
                this.speedY += dy * attraction;
                
                // Add some friction
                this.speedX *= 0.95;
                this.speedY *= 0.95;
                
                // Limit speed
                const maxSpeed = 4;
                const speed = Math.sqrt(this.speedX * this.speedX + this.speedY * this.speedY);
                if (speed > maxSpeed) {
                    this.speedX = (this.speedX / speed) * maxSpeed;
                    this.speedY = (this.speedY / speed) * maxSpeed;
                }
                
                this.x += this.speedX;
                this.y += this.speedY;
                
                // Wrap around screen
                if (this.x < -50) this.x = canvas.width + 50;
                if (this.x > canvas.width + 50) this.x = -50;
                if (this.y < -50) this.y = canvas.height + 50;
                if (this.y > canvas.height + 50) this.y = -50;
                
                // Calculate angle based on movement
                this.angle = Math.atan2(this.speedY, this.speedX);
                this.tailAngle += this.tailSpeed;
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.angle);
                
                // Fish body
                ctx.fillStyle = `hsl(${this.hue}, 70%, 60%)`;
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size * 0.6, 0, 0, Math.PI * 2);
                ctx.fill();
                
                // Tail
                const tailWag = Math.sin(this.tailAngle) * 0.3;
                ctx.fillStyle = `hsl(${this.hue}, 70%, 50%)`;
                ctx.beginPath();
                ctx.moveTo(-this.size, 0);
                ctx.lineTo(-this.size * 1.8, -this.size * 0.5 + tailWag * this.size);
                ctx.lineTo(-this.size * 1.8, this.size * 0.5 + tailWag * this.size);
                ctx.closePath();
                ctx.fill();
                
                // Eye
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(this.size * 0.4, -this.size * 0.2, this.size * 0.15, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = 'black';
                ctx.beginPath();
                ctx.arc(this.size * 0.4, -this.size * 0.2, this.size * 0.08, 0, Math.PI * 2);
                ctx.fill();
                
                // Fins
                ctx.fillStyle = `hsl(${this.hue}, 60%, 55%)`;
                ctx.globalAlpha = 0.6;
                ctx.beginPath();
                ctx.ellipse(0, this.size * 0.5, this.size * 0.4, this.size * 0.3, Math.PI * 0.3, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.restore();
            }
        }

        // Create bubbles
        class Bubble {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + 10;
                this.size = Math.random() * 4 + 2;
                this.speed = Math.random() * 1 + 0.5;
                this.wobble = Math.random() * Math.PI * 2;
                this.wobbleSpeed = Math.random() * 0.05 + 0.02;
            }

            update() {
                this.y -= this.speed;
                this.wobble += this.wobbleSpeed;
                this.x += Math.sin(this.wobble) * 0.5;
                
                if (this.y < -10) {
                    this.y = canvas.height + 10;
                    this.x = Math.random() * canvas.width;
                }
            }

            draw() {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }

        // Create fish and bubbles
        const fish = [];
        const fishCount = 30; // Lots of fish!
        for (let i = 0; i < fishCount; i++) {
            fish.push(new Fish());
        }

        const bubbles = [];
        for (let i = 0; i < 50; i++) {
            bubbles.push(new Bubble());
        }

        // Mouse tracking
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // Animation loop
        function animate() {
            ctx.fillStyle = 'rgba(10, 35, 66, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw bubbles
            bubbles.forEach(bubble => {
                bubble.update();
                bubble.draw();
            });
            
            // Draw fish
            fish.forEach(f => {
                f.update();
                f.draw();
            });
            
            requestAnimationFrame(animate);
        }

        // Handle resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        animate();
    </script>
</body>
</html>
